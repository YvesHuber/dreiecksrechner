"use strict";
var setCtx = require("./setCtx");
var parsePath = require("./parsePath");
/**
 * draw a path
 * 
 * @param {CanvasRenderingContext2D} ctx canvas rendering content
 * @param {String} pathDataString path data string
 * @returns {CanvasRenderingContext2D}
 */
function drawPath(ctx, pathDataString) {
    ctx = setCtx.bind(this)(ctx);
    var array = parsePath(pathDataString);
    
    ctx.beginPath();

    array.forEach(function (item) {
        ctx[item.action].apply(ctx, item.data);
    });

    return !this || this === window ? ctx : this;
}

module.exports = drawPath;
"use strict";
var currying = require("zz-utils/src/function/currying");
var apply = require("./apply");

function extendFromCtx(obj) {
    var canvas = document.createElement("canvas");
    var ctx = canvas.getContext("2d");
    
    var keys = Object.keys(ctx.__proto__);
    keys.forEach(function (key) {
        if (typeof ctx[key] === "function") {
            obj[key] = currying(apply, null, ctx[key]); 
        } else {
            var attrKey_get = "get" + key.replace(key[0], key.charAt(0).toUpperCase());
            obj[attrKey_get] = currying(require("./getting"), null, key);
    
            var attrKey_set = "set" + key.replace(key[0], key.charAt(0).toUpperCase());
            obj[attrKey_set] = currying(require("./setting"), null, key);
        }
    });
}

module.exports = extendFromCtx;

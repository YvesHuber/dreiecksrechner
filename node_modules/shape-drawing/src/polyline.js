"use strict";
var setCtx = require("./setCtx");

/**
 * draw a polyline
 * 
 * @param {CanvasRenderingContext2D} ctx canvas rendering content
 * @returns {Object}
 */
function drawPolyline(ctx) {
    var args = [].slice.call(arguments, 1);

    ctx = setCtx.bind(this)(ctx);

    ctx.beginPath();
    args.map(function (arg, index) {
        if (index % 2 === 0) {
            if (index === 0) {
                ctx.moveTo(args[index], args[index + 1])
            } else {
                ctx.lineTo(args[index], args[index + 1])
            }
        }
    })

    return !this || this === window ? ctx : this;
}

module.exports = drawPolyline;